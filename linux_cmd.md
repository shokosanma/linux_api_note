# Linux常用命令

## Bash快捷键

ctrl+a相当于home键，光标移至最前。

ctrl+e相当于end键，光标移至最后。

ctrl+u清除目前所有输入

## linux系统文件类型

普通文件(-)
目录文件(d)
字符设备文件(c)
块设备文件(b)
符号链接文件(l)
管道文件(p)
套接字(s)

## 软链接

创建时如使用相对路径，移动后依旧根据相对路径寻找原文件，导致无法使用。

```
ln -s ./file file.soft
```

## find

```
find /dir/path -type 'l'
find /dir/path -type '-'
find /dir/path -type 'c'
find /dir/path -name '*.cpp'
find /dir/path -maxdepth 1 -name 'l'
find /dir/path -size +20M -size -50M
-atime access	-mtime modify	-ctime change
```

## vi/vim

1. 命令模式
2. 编辑/文本模式
3. 末行模式

模式之间转换：
1. 命令模式到文本模式：

| 命令 | 功能                                             |
| ---- | ------------------------------------------------ |
| i    | 在光标左侧输入正文                               |
| I    | 在光标所在行的行首输入正文                       |
| a    | 在光标右侧输入正文                               |
| A    | 在光标所在行的行尾输入正文                       |
| o    | 在光标所在行的下一行增添新行，光标位于新行的行首 |
| O    | 在光标所在行的上一行增添新行，光标位于新行的行首 |
| s    | 删除光标所在的字符并开始插入                     |
| S    | 删除光标所在行并开始插入                         |



2. 文本模式到命令模式：esc键

3. 命令模式到末行模式：“:”英文冒号

4. 末行模式到命令模式：esc键

5. 命令模式保存退出：ZZ

6. 末行模式保存退出：wq

### 光标移动

跳转到指定行
命令模式：行号加G，如："67G"
末行模式：英文冒号加行号，如：":67"

命令模式：
gg：跳转到文件第一行开头
G：跳转到文件最后一行开头
0：跳转到行首
$：跳转到行尾

### 自动格式化程序

命令模式 gg=G

### 跳转到括号对应的另一半括号

命令模式 %

### 选中

命令模式：
选定文本块。使用v进入可视模式，移动光标键选定内容。

### 删除（剪切）

命令模式：
x：删除单个字符
dw：delete word，删除光标所在字符到单词结尾之间的字母，如光标在词首，则删除了整个单词
D或d$：删除光标之后的字符至行尾
d0：删除光标之前的字符至行首
dd：删除整行
3dd：删除光标所在行起的3行
v：进入visual mode，移动光标选中，按d删除
命令模式：
d      剪切选定块到缓冲区
dd    剪切整行
d^    剪切至行首
d$     剪切至行尾
dw    剪切一个word
dG     剪切至档尾

### 复制

命令模式：
y      在使用v模式选定了某一块的时候，复制选定块到缓冲区用；
yy    复制整行（nyy或者yny ，复制n行，n为数字）；
y^   复制当前到行头的内容；
y$    复制当前到行尾的内容；
yw   复制一个word （nyw或者ynw，复制n个word，n为数字）；
yG    复制至档尾（nyG或者ynG，复制到第n行，例如1yG或者y1G，复制到档尾） 

### 粘贴

命令模式：
p      小写p代表贴至游标后（下），因为游标是在具体字符的位置上，所以实际是在该字符的后面
P      大写P代表贴至游标前（上）
整行的复制粘贴在游标的上（下）一行，非整行的复制则是粘贴在游标的前（后）

### 撤销与恢复撤销

命令模式：
u：撤销
Ctrl + r：恢复撤销

### 替换

命令模式：
r：按r后按要替换的字符，则光标所在处字符被替换

末行模式：
这里的from和to都可以是任何字符串，其中from还可以是正则表达式。

替换当前行中的内容：	:s/from/to/    （s即substitude）
:s/from/to/     ：  将当前行中的第一个from，替换成to。如果当前行含有多个from，则只会替换其中的第一个。
:s/from/to/g    ：  将当前行中的所有from都替换成to。
:s/from/to/gc   ：  将当前行中的所有from都替换成to，但是每一次替换之前都会询问请求用户确认操作

替换某一行的内容：      :33s/from/to/g
:.s/from/to/g   ：  在当前行进行替换操作。
:33s/from/to/g  ：  在第33行进行替换操作。
:$s/from/to/g   ：  在最后一行进行替换操作。

替换某些行的内容：      :10,20s/from/to/g
:10,20s/from/to/g   ：  对第10行到第20行的内容进行替换。
:1,$s/from/to/g     ：  对第一行到最后一行的内容进行替换（即全部文本）。
:1,.s/from/to/g     ：  对第一行到当前行的内容进行替换。
:.,$s/from/to/g     ：  对当前行到最后一行的内容进行替换。
:'a,'bs/from/to/g   ：  对标记a和b之间的行（含a和b所在的行）进行替换。其中a和b是之前用m命令所做的标记。

替换所有行的内容：      :%s/from/to/g
:%s/from/to/g   ：  对所有行的内容进行替换。

### 查找

命令模式：
?xxx：从下到上查找xxx
/xxx：从上到下查找xxx
\'*'号 ：查找光标所在位置的变量的下一次出现的位置
\'#'号 ：查找光标所在位置的变量的上一次出现的位置

### 显示行号

临时显示，末行模式：
：set number
或者，永久生效
因此一般在当前用户的根目录下创建.vimrc文件，写入：set number


### 分屏

1. 从shell 中打开

```
vim -On [FILE_1] [FILE_2]
vim -on [FILE_1] [FILE_2]
```

- -O：垂直分割(vertical)
- -o： 水平分割（默认horizontal）
- n： 表示分几个屏，可以缺省不写，默认按后面要分割的文件数来决定分几个屏
- \[FILE_1\]\[FILE_2\]： 需要打开文件

2. Vim中打开分屏

创建空白分屏
:new
水平分屏
:split、:sp
垂直分屏
:vsplit、:vs
取消其它分屏，只保留当前分屏
:only 
退出当前所在分屏
:q、:quit


ctrl+w快捷键，先按ctrl+w，松开ctrl按后边的键位
ctrl+w s：水平分屏
ctrl+w v：垂直分屏
ctrl+w o：取消其它分屏，只保留当前分屏
ctrl+w q：退出当前所在分屏
ctrl+w +：扩大窗口
ctrl+w -：缩小窗口
ctrl+w h：跳转到左边的窗口
ctrl+w j：跳转到下边的窗口
ctrl+w k：跳转到上边的窗口
ctrl+w l：跳转到右边的窗口
ctrl+w t：跳转到最顶上的窗口
ctrl+w b：跳转到最顶下的窗口